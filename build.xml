<project name="jeantessier.com" default="all" basedir=".">

    <description>
        Jean's Website
    </description>

    <target name="all" depends="main, kendo, blog"
            description="Uploads the latest entries to jeantessier.com"/>

    <target name="main"
            description="Uploads the latest entries to jeantessier.com">
        <ftp server="ftp.jeantessier.com"
             userid="jeantessier"
             password="#uryd1c3"
             remotedir="jeantessier.com"
	     depends="yes"
	     binary="no"
             verbose="yes">
            <fileset dir="." includes="*.cgi"/>
            <fileset dir="." includes="*.css"/>
            <fileset dir="." includes="*.html">
                <exclude name="Books.html"/>
                <exclude name="BooksBackLog.html"/>
            </fileset>
            <fileset dir="." includes="*.js"/>
            <fileset dir="." includes="SoftwareEngineering/*">
                <exclude name="SoftwareEngineering/Books.html"/>
                <exclude name="SoftwareEngineering/BooksBackLog.html"/>
                <exclude name="SoftwareEngineering/Journal.html"/>
            </fileset>
            <fileset dir="." includes="Work/*"/>
        </ftp>
        <ftp server="ftp.jeantessier.com"
             userid="jeantessier"
             password="#uryd1c3"
             remotedir="jeantessier.com"
	     depends="yes"
	     binary="yes"
             verbose="yes">
            <fileset dir="." includes="fonts/*"/>
            <fileset dir="." includes="images/*"/>
        </ftp>
    </target>

    <target name="kendo"
            description="Uploads the latest entries to jeantessier.com">
        <ftp server="ftp.jeantessier.com"
             userid="jeantessier"
             password="#uryd1c3"
             remotedir="jeantessier.com/Kendo"
	     depends="yes"
	     binary="no"
             verbose="yes">
            <fileset dir="Kendo" includes="*.html"/>
            <fileset dir="Kendo" includes="*.js"/>
            <fileset dir="Kendo" includes="*.pdf"/>
        </ftp>
        <ftp server="ftp.sanmateokendo.org"
             userid="jeantessier"
             password="#uryd1c3"
             remotedir="sanmateokendo.org"
	     depends="yes"
	     binary="no"
             verbose="yes">
            <fileset dir="smkd" includes="*.css"/>
            <fileset dir="smkd" includes="*.html"/>
            <fileset dir="smkd" includes="*.js"/>
        </ftp>
        <ftp server="ftp.sanmateokendo.org"
             userid="jeantessier"
             password="#uryd1c3"
             remotedir="sanmateokendo.org"
	     depends="yes"
	     binary="yes"
             verbose="yes">
            <fileset dir="smkd" includes="images/*"/>
            <fileset dir="smkd" includes="*.pdf"/>
        </ftp>
    </target>

    <target name="blog"
            description="Uploads the latest entries to jeantessier.com">
        <ftp server="ftp.jeantessier.com"
             userid="jeantessier"
             password="#uryd1c3"
             remotedir="jeantessier.com"
	     depends="yes"
	     binary="no"
             verbose="yes">
            <fileset dir="." includes="data/*.txt"/>
            <fileset dir="." includes="SoftwareEngineering/data/*.txt"/>
        </ftp>
    </target>

    <target name="blogs" depends="books, se_blogs"
            description="Generates all dynamic content and Atom feeds."/>

    <target name="books" depends="books.html, books.atom, booksbacklog.html"
            description="Generate the Recent Readings pages (for local debugging)."/>

    <target name="books.html">
        <exec executable="perl"
              output="Books.html">
            <arg value="Books.cgi"/>
        </exec>
    </target>

    <target name="books.atom">
        <exec executable="perl"
              output="Books.atom">
            <arg value="Books_atom.cgi"/>
        </exec>
    </target>

    <target name="booksbacklog.html">
        <exec executable="perl"
              output="BooksBackLog.html">
            <arg value="BooksBackLog.cgi"/>
        </exec>
    </target>

    <target name="se_blogs">
        <ant dir="SoftwareEngineering" inheritAll="false"/>
    </target>

</project>
